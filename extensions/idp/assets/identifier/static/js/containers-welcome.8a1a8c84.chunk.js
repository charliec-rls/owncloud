(this.webpackJsonpidentifier=this.webpackJsonpidentifier||[]).push([[3],{12:function(e,t,n){"use strict";n.d(t,"f",(function(){return f})),n.d(t,"e",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"a",(function(){return g})),n.d(t,"c",(function(){return h})),n.d(t,"b",(function(){return v})),n.d(t,"h",(function(){return w})),n.d(t,"g",(function(){return y}));var a,r=n(19),o=n(46),c=n(20),i=n(23),s=n(63),u=n(43),l=n(9),d=n(31),f="konnect.error.login.validate.missingUsername",m="konnect.error.login.validate.missingPassword",p="konnect.error.login.failed",g="konnect.error.http.networkError",h="konnect.error.http.unexpectedResponseStatus",v="konnect.error.http.unexpectedResponseState",b=Object(l.a)((a={},Object(u.a)(a,f,{id:f,defaultMessage:"Please enter a valid username"}),Object(u.a)(a,m,{id:m,defaultMessage:"Please enter a valid password"}),Object(u.a)(a,p,{id:p,defaultMessage:"Logon failed. Please verify your credentials and try again."}),Object(u.a)(a,g,{id:g,defaultMessage:"Network error. Please check your connection and try again."}),Object(u.a)(a,h,{id:h,defaultMessage:"Unexpected HTTP response: {status}. Please check your connection and try again."}),Object(u.a)(a,v,{id:v,defaultMessage:"Unexpected response state: {state}"}),a)),w=function(e){Object(c.a)(n,e);var t=Object(i.a)(n);function n(e,a){var c;return Object(r.a)(this,n),(c=t.call(this,e)).values=void 0,void 0!==Error.captureStackTrace&&Error.captureStackTrace(Object(o.a)(c),n),c.values=a,c}return n}(Object(s.a)(Error));var y=Object(d.c)((function(e){var t=e.error,n=e.intl;if(!t)return null;var a=t.id?t.id:t.message,r=Object.assign({},{id:a,defaultMessage:t.id?t.message:void 0},b[a]);return n.formatMessage(r,t.values)}))},21:function(e,t,n){"use strict";n.d(t,"c",(function(){return f})),n.d(t,"a",(function(){return m})),n.d(t,"d",(function(){return p})),n.d(t,"b",(function(){return g}));var a=n(47),r=n.n(a),o=n(35),c=n(36),i=n(12),s=n(37),u=n(24);function l(e){return{type:u.b,error:e}}function d(){return{type:u.k}}function f(e){var t=e.success,n=e.username,a=e.displayName;return{type:u.c,state:!0===t,username:n,displayName:a,hello:e}}function m(){return function(e,t){e(d());var n=t().common,a=n.flow,u=n.query,m=Object(c.a)(Object(o.a)(a,u));return r.a.post("./identifier/_/hello",m,{headers:{"Kopano-Konnect-XSRF":"1"}}).then((function(e){switch(e.status){case 200:return e.data;case 204:return{success:!1,state:e.headers["kopano-konnect-state"]};default:throw new i.h(i.c,e)}})).then((function(t){if(t.state!==m.state)throw new i.h(i.b,t);return e(f(t)),Promise.resolve(t)})).catch((function(t){t=Object(s.a)(t),e(l(t))}))}}function p(){return function(e){return e(l(null)),e(m())}}function g(){return function(e){e(d()),e({type:u.i});var t=Object(c.a)({});return r.a.post("./identifier/_/logoff",t,{headers:{"Kopano-Konnect-XSRF":"1"}}).then((function(e){switch(e.status){case 200:return e.data;default:throw new i.h(i.c,e)}})).then((function(n){if(n.state!==t.state)throw new i.h(i.b,n);var a;return e((a=!0===n.success,{type:u.d,state:a})),Promise.resolve(n)})).catch((function(t){t=Object(s.a)(t),e(l(t))}))}}},233:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return b}));var a=n(19),r=n(34),o=n(20),c=n(23),i=n(2),s=n.n(i),u=n(15),l=n(75),d=n(8),f=n(218),m=n(217),p=n(225),g=n(41),h=n(21),v=function(e){Object(o.a)(n,e);var t=Object(c.a)(n);function n(){return Object(a.a)(this,n),t.apply(this,arguments)}return Object(r.a)(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.classes,a=t.hello,r=null===a;return s.a.createElement(g.a,{loading:r},s.a.createElement(m.a,{variant:"h5",component:"h3",className:"oc-light"},s.a.createElement(l.a,{id:"konnect.welcome.headline",defaultMessage:"Welcome {displayName}",values:{displayName:a.displayName}})),s.a.createElement(m.a,{variant:"subtitle1",className:n.subHeader+" oc-light"},a.username),s.a.createElement(m.a,{gutterBottom:!0,className:"oc-light"},s.a.createElement(l.a,{id:"konnect.welcome.message",defaultMessage:"You are signed in - awesome!"})),s.a.createElement(p.a,null,s.a.createElement(f.a,{color:"secondary",className:n.button,variant:"contained",onClick:function(t){return e.logoff(t)}},s.a.createElement(l.a,{id:"konnect.welcome.signoutButton.label",defaultMessage:"Sign out"}))))}},{key:"logoff",value:function(e){var t=this;e.preventDefault(),this.props.dispatch(Object(h.b)()).then((function(e){var n=t.props.history;e.success&&n.push("/identifier")}))}}]),n}(s.a.PureComponent),b=Object(u.b)((function(e){return{hello:e.common.hello}}))(Object(d.a)((function(e){return{button:{margin:e.spacing(1),minWidth:100},subHeader:{marginBottom:e.spacing(5)}}}))(v))},35:function(e,t,n){"use strict";function a(e,t){var n={};t.prompt&&(n.prompt=t.prompt);var a=e;switch(e){case"oauth":case"consent":case"oidc":n.scope=t.scope||"",n.client_id=t.client_id||"",n.redirect_uri=t.redirect_uri||"",t.id_token_hint&&(n.id_token_hint=t.id_token_hint),t.max_age&&(n.max_age=t.max_age),t.claims_scope&&(n.scope+=" "+t.claims_scope);break;default:a=null}return a&&(n.flow=a),n}n.d(t,"a",(function(){return a}))},36:function(e,t,n){"use strict";function a(e){var t=new Uint8Array(16);return crypto.getRandomValues(t),e.state=Array.prototype.map.call(t,(function(e){return e.toString(16)})).join(""),e}n.d(t,"a",(function(){return a}))},37:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var a=n(12);function r(e){return e.request&&(e=e.response?new a.h(a.c,e.response):new a.h(a.a)),e}},41:function(e,t,n){"use strict";var a=n(28),r=n(2),o=n.n(r),c=n(57),i=n.n(c),s=n(75),u=n(8),l=n(215),d=n(219),f=n(15),m=n(216),p=n(217),g=n(218),h=n(39),v=n.n(h),b=n(21),w=n(12);var y=Object(f.b)((function(e){return{error:e.common.error}}))((function(e){var t=e.error,n=e.dispatch;return o.a.createElement(l.a,{item:!0,align:"center"},v()(null===t)((function(){return o.a.createElement(m.a,{className:"oc-progress"})})),v()(null!==t)((function(){return o.a.createElement("div",null,o.a.createElement(p.a,{className:"oc-light",variant:"h5",gutterBottom:!0,align:"center"},o.a.createElement(s.a,{id:"konnect.loading.error.headline",defaultMessage:"Failed to connect to server"})),o.a.createElement(p.a,{align:"center",color:"error"},o.a.createElement(w.g,{error:t})),o.a.createElement(g.a,{autoFocus:!0,color:"primary",variant:"contained",className:"oc-button-primary oc-mt-l",onClick:function(e){return function(e){e.preventDefault(),n(Object(b.d)())}(e)}},o.a.createElement(s.a,{id:"konnect.login.retryButton.label",defaultMessage:"Retry"})))})))})),j=["classes","withoutLogo","withoutPadding","loading","children","className","DialogProps","PaperProps"],k=function(e){var t=e.classes,n=e.withoutLogo,r=e.withoutPadding,c=e.loading,u=e.children,f=e.className,m=(e.DialogProps,e.PaperProps,Object(a.a)(e,j)),p=n?null:o.a.createElement("img",{src:"./static/logo.svg",className:"oc-logo",alt:"ownCloud Logo"}),g=c?o.a.createElement(y,null):r?u:o.a.createElement(d.a,null,u);return o.a.createElement(l.a,Object.assign({container:!0,justify:"center",alignItems:"center",direction:"column",spacing:0,className:i()(t.root,f)},m),o.a.createElement("div",{className:t.wrapper},o.a.createElement("div",{className:t.content},p,g)),o.a.createElement("footer",{className:"oc-footer-message"},o.a.createElement(s.a,{id:"konnect.footer.slogan",defaultMessage:"<name>ownCloud</name> - a safe home for all your data",values:{name:function(e){return function(e){return o.a.createElement("strong",null,e)}(e)}}})))};k.defaultProps={withoutLogo:!1,withoutPadding:!1,loading:!1};t.a=Object(u.a)((function(e){return{root:{display:"flex",flex:1},content:{position:"relative",width:"100%"},actions:{marginTop:-40,justifyContent:"flex-start",paddingLeft:e.spacing(3),paddingRight:e.spacing(3)},wrapper:{width:"100%",maxWidth:300,display:"flex",flex:1,alignItems:"center"}}}))(k)}}]);
//# sourceMappingURL=containers-welcome.8a1a8c84.chunk.js.map