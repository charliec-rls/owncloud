{"version":3,"sources":["reducers/common.js","reducers/login.js","reducers/index.js","store.js","locales/index.js","app.js","actions/types.js"],"names":["query","queryString","parse","document","location","search","flow","defaultState","hello","error","updateAvailable","pathPrefix","root","getElementById","getAttribute","passwordResetLink","link","commonReducer","state","action","type","RECEIVE_ERROR","Object","assign","RESET_HELLO","RECEIVE_HELLO","username","displayName","details","SERVICE_WORKER_NEW_CONTENT","loginReducer","loading","password","errors","RECEIVE_VALIDATE_LOGON","REQUEST_CONSENT_ALLOW","REQUEST_CONSENT_CANCEL","REQUEST_LOGON","RECEIVE_CONSENT","RECEIVE_LOGON","success","RECEIVE_LOGOFF","UPDATE_INPUT","name","value","rootReducer","combineReducers","common","login","middlewares","thunkMiddleware","composeEnhancers","window","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","store","createStore","applyMiddleware","locales","enabled","reduce","locale","enableLocales","de","fr","hi","is","nb","nl","ru","LoadableApp","Loadable","loader","Loading","timeout","ReactDOM","render","theme","messages","translations","defaultLocale","unregister","REQUEST_LOGOFF"],"mappings":"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","file":"static/js/identifier-app.73130889.chunk.js","sourcesContent":["import {\n  RECEIVE_ERROR,\n  RESET_HELLO,\n  RECEIVE_HELLO,\n  SERVICE_WORKER_NEW_CONTENT\n} from '../actions/types';\nimport queryString from 'query-string';\n\nconst query = queryString.parse(document.location.search);\nconst flow = query.flow || '';\ndelete query.flow;\n\nconst defaultPathPrefix = (() => {\n  const root = document.getElementById('root');\n  let pathPrefix = root ? root.getAttribute('data-path-prefix') : null;\n  if (!pathPrefix || pathPrefix === '__PATH_PREFIX__') {\n    // Not replaced, probably we are running in debug mode or whatever. Use sane default.\n    pathPrefix = '/signin/v1';\n  }\n  return pathPrefix;\n})();\n\nconst defaultPasswordResetLink = (() => {\n  const root = document.getElementById('root');\n  let link = root ? root.getAttribute('passwort-reset-link') : null;\n  if (!link || link === '__PASSWORD_RESET_LINK__') {\n    // Not replaced, probably we are running in debug mode or whatever. Use sane default.\n    link = '';\n  }\n  return link;\n})();\n\nconst defaultState = {\n  hello: null,\n  error: null,\n  flow: flow,\n  query: query,\n  updateAvailable: false,\n  pathPrefix: defaultPathPrefix,\n  passwordResetLink: defaultPasswordResetLink\n};\n\nfunction commonReducer(state = defaultState, action) {\n  switch (action.type) {\n    case RECEIVE_ERROR:\n      return Object.assign({}, state, {\n        error: action.error\n      });\n\n    case RESET_HELLO:\n      return Object.assign({}, state, {\n        hello: null\n      });\n\n    case RECEIVE_HELLO:\n      return Object.assign({}, state, {\n        hello: {\n          state: action.state,\n          username: action.username,\n          displayName: action.displayName,\n          details: action.hello\n        }\n      });\n\n    case SERVICE_WORKER_NEW_CONTENT:\n      return Object.assign({}, state, {\n        updateAvailable: true\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport default commonReducer;\n","import {\n  RECEIVE_VALIDATE_LOGON,\n  REQUEST_LOGON,\n  RECEIVE_LOGON,\n  RECEIVE_LOGOFF,\n  REQUEST_CONSENT_ALLOW,\n  REQUEST_CONSENT_CANCEL,\n  RECEIVE_CONSENT,\n  UPDATE_INPUT\n} from '../actions/types';\n\nfunction loginReducer(state = {\n  loading: '',\n  username: '',\n  password: '',\n  errors: {}\n}, action) {\n  switch (action.type) {\n    case RECEIVE_VALIDATE_LOGON:\n      return Object.assign({}, state, {\n        errors: action.errors,\n        loading: ''\n      });\n\n    case REQUEST_CONSENT_ALLOW:\n    case REQUEST_CONSENT_CANCEL:\n    case REQUEST_LOGON:\n      return Object.assign({}, state, {\n        loading: action.type,\n        errors: {}\n      });\n\n    case RECEIVE_CONSENT:\n    case RECEIVE_LOGON:\n      if (!action.success) {\n        return Object.assign({}, state, {\n          errors: action.errors ? action.errors : {},\n          loading: ''\n        });\n      }\n      return state;\n\n    case RECEIVE_LOGOFF:\n      return Object.assign({}, state, {\n        username: '',\n        password: ''\n      });\n\n    case UPDATE_INPUT:\n      delete state.errors[action.name];\n      return Object.assign({}, state, {\n        [action.name]: action.value\n      });\n\n    default:\n      return state;\n  }\n}\n\nexport default loginReducer;\n","import { combineReducers } from 'redux';\n\nimport commonReducer from './common';\nimport loginReducer from './login';\n\nconst rootReducer = combineReducers({\n  common: commonReducer,\n  login: loginReducer\n});\n\nexport default rootReducer;\n","import { createStore, applyMiddleware, compose } from 'redux';\nimport thunkMiddleware from 'redux-thunk';\nimport { createLogger } from 'redux-logger';\n\nimport rootReducer from './reducers';\n\nconst middlewares = [\n  thunkMiddleware\n];\n\nif (process.env.NODE_ENV === 'development') { // eslint-disable-line no-undef\n  middlewares.push(createLogger()); // must be last middleware in the chain.\n}\n\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n\nconst store = createStore(\n  rootReducer,\n  composeEnhancers(applyMiddleware(\n    ...middlewares,\n  ))\n);\n\nexport default store;\n","// NOTE(longsleep): This loads all translation files to be included in the\n// app bundle. They are not that large.\n\n// Please keep imports and exports alphabetically sorted.\nimport de from './de.json';\nimport fr from './fr.json';\nimport hi from './hi.json';\nimport is from './is.json';\nimport nb from './nb.json';\nimport nl from './nl.json';\nimport ptPT from './pt_PT.json';\nimport ru from './ru.json';\n\nfunction enableLocales(locales, enabled) {\n  if (process.env.NODE_ENV !== 'production') { // eslint-disable-line no-undef\n    return locales;\n  }\n  return enabled.reduce(function(value, locale) {\n    value[locale] = locales[locale];\n    return value;\n  }, {});\n}\n\n// Locales must follow BCP 47 format (https://tools.ietf.org/html/rfc5646).\nconst locales = enableLocales({\n  de,\n  'en-GB': {},\n  'en-US': {},\n  fr,\n  hi,\n  is,\n  nb,\n  nl,\n  'pt-PT': ptPT,\n  ru\n}, [\n  // List of enabled languages in production builds.\n  'de',\n  'en-GB',\n  'en-US',\n  'fr',\n  'hi',\n  'is',\n  'nb',\n  'nl',\n  'pt-PT',\n  'ru'\n]);\n\nexport default locales;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport Loadable from 'react-loadable';\nimport { Provider } from 'react-redux';\n\nimport { MuiThemeProvider } from '@material-ui/core/styles';\n\nimport { defaultTheme as theme } from 'kpop/es/theme';\nimport { IntlProvider } from 'react-intl';\nimport Loading from 'kpop/es/Loading';\nimport { unregister } from 'kpop/es/serviceWorker';\n\nimport store from './store';\nimport translations from './locales';\n\n// NOTE(longsleep): Load async with loader, this enables code splitting via Webpack.\nconst LoadableApp = Loadable({\n  loader: () => import(/* webpackChunkName: \"identifier-main\" */ './Main'),\n  loading: Loading,\n  timeout: 20000\n});\n\nReactDOM.render(\n  <Provider store={store}>\n    <MuiThemeProvider theme={theme}>\n      <IntlProvider messages={translations} locale=\"en\" defaultLocale=\"en\">\n        <LoadableApp />\n      </IntlProvider>\n    </MuiThemeProvider>\n  </Provider>,\n  document.getElementById('root')\n);\n\nunregister();\n","export const RECEIVE_ERROR = 'RECEIVE_ERROR';\n\nexport const RESET_HELLO = 'RESET_HELLO';\nexport const EXECUTE_HELLO = 'EXECUTE_HELLO';\nexport const RECEIVE_HELLO = 'RECEIVE_HELLO';\n\nexport const RECEIVE_VALIDATE_LOGON = 'RECEIVE_VALIDATE_LOGON';\nexport const REQUEST_LOGON = 'REQUEST_LOGON';\nexport const EXECUTE_LOGON = 'EXECUTE_LOGON';\nexport const RECEIVE_LOGON = 'RECEIVE_LOGON';\nexport const UPDATE_INPUT = 'UPDATE_INPUT';\n\nexport const REQUEST_CONSENT_ALLOW = 'REQUEST_CONSENT_ALLOW';\nexport const REQUEST_CONSENT_CANCEL = 'REQUEST_CONSENT_CANCEL';\nexport const EXECUTE_CONSENT = 'EXECUTE_CONSENT';\nexport const RECEIVE_CONSENT = 'RECEIVE_CONSENT';\n\nexport const REQUEST_LOGOFF = 'REQUEST_LOGOFF';\nexport const EXECUTE_LOGOFF = 'EXECUTE_LOGOFF';\nexport const RECEIVE_LOGOFF = 'RECEIVE_LOGOFF';\n\nexport const SERVICE_WORKER_NEW_CONTENT = 'SERVICE_WORKER_NEW_CONTENT';\nexport const SERVICE_WORKER_READY = 'SERVICE_WORKER_READY';\nexport const SERVICE_WORKER_ERROR = 'SERVICE_WORKER_ERROR';\nexport const SERVICE_WORKER_OFFLINE = 'SERVICE_WORKER_OFFLINE';\n"],"sourceRoot":""}